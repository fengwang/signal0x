\documentclass[9pt,onside,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{makeidx}
\usepackage{booktabs}
\usepackage{color}
\usepackage{alltt}

\newcommand{\hlstd}[1]{\textcolor[rgb]{0.2,0,0.4}{#1}}
\newcommand{\hlnum}[1]{\textcolor[rgb]{0.2,0.73,0.02}{#1}}
\newcommand{\hlesc}[1]{\textcolor[rgb]{0.65,0.09,0.38}{#1}}
\newcommand{\hlstr}[1]{\textcolor[rgb]{0.09,0.38,0.65}{#1}}
\newcommand{\hlpps}[1]{\textcolor[rgb]{0.4,0.2,0}{#1}}
\newcommand{\hlslc}[1]{\textcolor[rgb]{0,0.4,0.2}{#1}}
\newcommand{\hlcom}[1]{\textcolor[rgb]{0,0.4,0.2}{#1}}
\newcommand{\hlppc}[1]{\textcolor[rgb]{0.33,0.45,0.69}{#1}}
\newcommand{\hlopt}[1]{\textcolor[rgb]{0.33,0.33,0.33}{#1}}
\newcommand{\hllin}[1]{\textcolor[rgb]{0.6,0.6,0.6}{#1}}
\newcommand{\hlkwa}[1]{\textcolor[rgb]{1,0.19,0.19}{#1}}
\newcommand{\hlkwb}[1]{\textcolor[rgb]{0.96,0.55,0.14}{#1}}
\newcommand{\hlkwc}[1]{\textcolor[rgb]{0,0,1}{#1}}
\newcommand{\hlkwd}[1]{\textcolor[rgb]{0.82,0.11,0.93}{#1}}
\author{Wang Feng}
\title{Introduction to signal0x}
\begin{document}
\maketitle

\section{Tutorial}
\subsection{Motivation}

\paragraph{This is another wheel invented as an implementation of Observer Pattern written in C++.}
\paragraph{This is also a demonstration of the upcoming c++0x.}
\subparagraph{Features:}
\begin{enumerate}
    \item Thread--safe
    \item Faster
    \item Non--intrusive connection tracking 
    \item Automatic disconnection
\end{enumerate}

\subsection{Compatibility Note}

\paragraph{Signal0x library compiles currently only compatibile with g++4.6 and g++4.7, as it employs many c++0x features such as:}
\begin{enumerate}
\item variadic template
\item range--based for loop
\item rvalue reference
\item lambda
\item mutex
\item ...
\end{enumerate}


\paragraph{The header file of signal0x is\\}
\hlstd{}\hlppc{\#include\ $<$signal.hpp$>$}\hspace*{\fill}
\paragraph{The namespace of signal0x is\\}
\hlstd{}\hlkwa{using\ }\hlstd{signal0x}\hlopt{::}\hlstd{signal}\hlopt{;}\hspace*{\fill} 
\paragraph{A typical commandline compilation is\\}
\hlstd{}  g++ -o test test.cc -std=c++0x -O2



\subsection{Connecting to Signals}




\subsubsection{First Example -- Hello World}

\ttfamily
\hlstd{}\hllin{\ \ \ \ 1\ }\hlslc{//\ an\ ordinary\ function}\\
\hllin{\ \ \ \ 2\ }\hlstd{}\hlkwb{void\ }\hlstd{}\hlkwd{hello\textunderscore world}\hlstd{}\hlopt{()}\\
\hllin{\ \ \ \ 3\ }\hlstd{}\hlopt{\{}\\
\hllin{\ \ \ \ 4\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{std}\hlopt{::}\hlstd{cout\ }\hlopt{$<$$<$\ }\hlstd{}\hlstr{"Hello\ World.}\hlesc{$\backslash$n}\hlstr{"}\hlstd{}\hlopt{;}\\
\hllin{\ \ \ \ 5\ }\hlstd{}\hlopt{\}}\\
\hllin{\ \ \ \ 6\ }\hlstd{}\\
\hllin{\ \ \ \ 7\ }\hlslc{//(1)\ a\ signal\ with\ no\ arguments\ and\ a\ void\ return\ value}\\
\hllin{\ \ \ \ 8\ }\hlstd{signal0x}\hlopt{::}\hlstd{signal}\hlopt{$<$}\hlstd{}\hlkwb{void}\hlstd{}\hlopt{$>$\ }\hlstd{sig}\hlopt{;}\\
\hllin{\ \ \ \ 9\ }\hlstd{}\\
\hllin{\ \ \ 10\ }\hlslc{//(2)\ connect\ function\ to\ signal}\\
\hllin{\ \ \ 11\ }\hlstd{sig}\hlopt{.}\hlstd{}\hlkwd{connect}\hlstd{}\hlopt{(\ }\hlstd{hello\textunderscore world\ }\hlopt{);}\\
\hllin{\ \ \ 12\ }\hlstd{}\\
\hllin{\ \ \ 13\ }\hlslc{//(3)\ signal\ triggered}\\
\hllin{\ \ \ 14\ }\hlstd{}\hlkwd{sig}\hlstd{}\hlopt{();}\hlstd{}\\
\mbox{}
\normalfont
\normalsize

\paragraph{This example writes "Hello World." using signals and slots in the following way:}
\begin{enumerate}
\item create a signal \hlkwd{sig}, a signal that takes no arguments and has a void return value 
\item connect a slot, the \hlkwd{hello\_world} function, to the signal using the \hlkwd{connect} method
\item the signal is triggered, which in turns invokes \hlkwd{hello\_world()} to print "Hello World.".
\end{enumerate}


\subsubsection{Slots}

\paragraph{Several kinds of slots can be connected to a signal}

\begin{enumerate}

\item a function \\

\noindent
\ttfamily
\hlstd{}\hllin{\ \ \ \ 1\ }\hlppc{\#include\ $<$signal.hpp$>$}\\
\hllin{\ \ \ \ 2\ }\hlstd{}\hlkwa{using\ }\hlstd{signal0x}\hlopt{::}\hlstd{signal}\hlopt{;}\\
\hllin{\ \ \ \ 3\ }\hlstd{}\\
\hllin{\ \ \ \ 4\ }\hlkwb{void\ }\hlstd{}\hlkwd{f}\hlstd{}\hlopt{()\{\}}\\
\hllin{\ \ \ \ 5\ }\hlstd{signal}\hlopt{$<$}\hlstd{}\hlkwb{void}\hlstd{}\hlopt{$>$\ }\hlstd{sig}\hlopt{;}\\
\hllin{\ \ \ \ 6\ }\hlstd{sig}\hlopt{.}\hlstd{}\hlkwd{connect}\hlstd{}\hlopt{(\ }\hlstd{f\ }\hlopt{);}\\
\hllin{\ \ \ \ 7\ }\hlstd{}\hlkwd{sig}\hlstd{}\hlopt{();}\hlstd{}\\
\mbox{}
\normalfont
\normalsize

\item a functor \\

\noindent
\ttfamily
\hlstd{}\hllin{\ \ \ \ 1\ }\hlppc{\#include\ $<$signal.hpp$>$}\\
\hllin{\ \ \ \ 2\ }\hlstd{}\hlkwa{using\ }\hlstd{signal0x}\hlopt{::}\hlstd{signal}\hlopt{;}\\
\hllin{\ \ \ \ 3\ }\hlstd{}\\
\hllin{\ \ \ \ 4\ }\hlkwb{struct\ }\hlstd{f}\hlopt{\{\ }\hlstd{}\hlkwb{void\ }\hlstd{}\hlkwc{operator}\hlstd{}\hlopt{()()\ }\hlstd{}\hlkwb{const\ }\hlstd{}\hlopt{\{\}\};}\\
\hllin{\ \ \ \ 5\ }\hlstd{f\ f\textunderscore }\hlopt{;}\\
\hllin{\ \ \ \ 6\ }\hlstd{signal}\hlopt{$<$}\hlstd{}\hlkwb{void}\hlstd{}\hlopt{$>$\ }\hlstd{sig}\hlopt{;}\\
\hllin{\ \ \ \ 7\ }\hlstd{sig}\hlopt{.}\hlstd{}\hlkwd{connect}\hlstd{}\hlopt{(\ }\hlstd{}\hlkwd{f}\hlstd{}\hlopt{()\ );}\\
\hllin{\ \ \ \ 8\ }\hlstd{sig}\hlopt{.}\hlstd{}\hlkwd{connect}\hlstd{}\hlopt{(\ }\hlstd{f\textunderscore \ }\hlopt{);}\\
\hllin{\ \ \ \ 9\ }\hlstd{}\hlkwd{sig}\hlstd{}\hlopt{();}\hlstd{}\\
\mbox{}
\normalfont
\normalsize


\item a lambda object \\

\noindent
\ttfamily
\hlstd{}\hllin{\ \ \ \ 1\ }\hlppc{\#include\ $<$signal.hpp$>$}\\
\hllin{\ \ \ \ 2\ }\hlstd{}\hlkwa{using\ }\hlstd{signal0x}\hlopt{::}\hlstd{signal}\hlopt{;}\\
\hllin{\ \ \ \ 3\ }\hlstd{\\
\hllin{\ \ \ \ 4\ }signal}\hlopt{$<$}\hlstd{}\hlkwb{void}\hlstd{}\hlopt{$>$\ }\hlstd{sig}\hlopt{;}\\
\hllin{\ \ \ \ 5\ }\hlstd{sig}\hlopt{.}\hlstd{}\hlkwd{connect}\hlstd{}\hlopt{(\ {[}{]}\{\}\ );}\hlstd{}\hlslc{//an\ anonymous\ lambda\ object}\\
\hllin{\ \ \ \ 6\ }\hlstd{}\hlkwd{sig}\hlstd{}\hlopt{();}\hlstd{}\\
\mbox{}
\normalfont
\normalsize




\item a pointer to a member function \\

\noindent
\ttfamily
\hlstd{}\hllin{\ \ \ \ 1\ }\hlppc{\#include\ $<$signal.hpp$>$}\\
\hllin{\ \ \ \ 2\ }\hlstd{}\hlppc{\#include\ $<$functional$>$}\hlslc{//for\ std::bind\ }\\
\hllin{\ \ \ \ 3\ }\hlppc{}\hlstd{}\hlkwa{using\ }\hlstd{signal0x}\hlopt{::}\hlstd{signal}\hlopt{;}\\
\hllin{\ \ \ \ 4\ }\hlstd{}\\
\hllin{\ \ \ \ 5\ }\hlkwb{struct\ }\hlstd{f}\\
\hllin{\ \ \ \ 6\ }\hlopt{\{}\\
\hllin{\ \ \ \ 7\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwb{void\ }\hlstd{}\hlkwd{ff}\hlstd{}\hlopt{()\ \{\}}\\
\hllin{\ \ \ \ 8\ }\hlstd{}\hlopt{\};}\\
\hllin{\ \ \ \ 9\ }\hlstd{f\ f\textunderscore }\hlopt{;}\\
\hllin{\ \ \ 10\ }\hlstd{signal}\hlopt{$<$}\hlstd{}\hlkwb{void}\hlstd{}\hlopt{$>$\ }\hlstd{sig}\hlopt{;}\\
\hllin{\ \ \ 11\ }\hlstd{sig}\hlopt{.}\hlstd{}\hlkwd{connect}\hlstd{}\hlopt{(\ }\hlstd{std}\hlopt{::}\hlstd{}\hlkwd{bind}\hlstd{}\hlopt{(\ \&}\hlstd{f}\hlopt{::}\hlstd{ff}\hlopt{,\ \&}\hlstd{f\textunderscore }\hlopt{)\ );}\\
\hllin{\ \ \ 12\ }\hlstd{}\hlkwd{sig}\hlstd{}\hlopt{();}\hlstd{}\\
\mbox{}
\normalfont
\normalsize

\end{enumerate}


\subsubsection{Multiple Slots}

\paragraph{Multiple slots can be connected to a same signal, and if the signal is triggered, all slots connected to this signal will be called.  \\}
Another "hello world" example \\

\noindent
\ttfamily
\hlstd{}\hllin{\ \ \ \ 1\ }\hlppc{\#include\ $<$signal.hpp$>$}\\
\hllin{\ \ \ \ 2\ }\hlstd{}\hlppc{\#include\ $<$iostream$>$}\\
\hllin{\ \ \ \ 3\ }\hlstd{}\\
\hllin{\ \ \ \ 4\ }\hlkwb{void\ }\hlstd{hello}\hlopt{\{\ }\hlstd{std}\hlopt{::}\hlstd{cout\ }\hlopt{$<$$<$\ }\hlstd{}\hlstr{"Hello\ "}\hlstd{}\hlopt{;\ \}}\\
\hllin{\ \ \ \ 5\ }\hlstd{}\hlkwb{void\ }\hlstd{world}\hlopt{\{\ }\hlstd{std}\hlopt{::}\hlstd{cout\ }\hlopt{$<$$<$\ }\hlstd{}\hlstr{"World!"}\hlstd{}\hlopt{;\ \}}\\
\hllin{\ \ \ \ 6\ }\hlstd{\\
\hllin{\ \ \ \ 7\ }signal0x}\hlopt{::}\hlstd{signal}\hlopt{$<$}\hlstd{}\hlkwb{void}\hlstd{}\hlopt{$>$\ }\hlstd{sig}\hlopt{;}\\
\hllin{\ \ \ \ 8\ }\hlstd{sig}\hlopt{.}\hlstd{}\hlkwd{connect}\hlstd{}\hlopt{(\ }\hlstd{hello\ }\hlopt{);}\\
\hllin{\ \ \ \ 9\ }\hlstd{sig}\hlopt{.}\hlstd{}\hlkwd{connect}\hlstd{}\hlopt{(\ }\hlstd{world\ }\hlopt{);}\\
\hllin{\ \ \ 10\ }\hlstd{}\hlkwd{sig}\hlstd{}\hlopt{();\ }\hlstd{}\hlslc{//print\ "Hello\ World!"}\hlstd{}\\
\mbox{}
\normalfont
\normalsize


\subsubsection{Ordering Multiple Slots}






\subsection{Examples}



\section{Comparison With Boost::signals and sigc::signal}
\subsection{Grammar Comparison}
\subsection{Benchmark}

\section{Design and Implementation}





\end{document}

